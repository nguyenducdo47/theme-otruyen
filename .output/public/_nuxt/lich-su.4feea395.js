import{H as x,T as y,M as C}from"./components.9bb7d1b5.js";import{_ as b}from"./ComicsPagination.7b94b174.js";import{a as k}from"./entry.71724ffc.js";import{k as w,a as l,a1 as M,b as N,x as u,y as d,O as m,A as h,V as q,u as e,z as v,I as H,G as T,H as B}from"./swiper-vue.1fc45518.js";import"./Icon.d2eaa27f.js";import"./config.518ce47a.js";import"./_plugin-vue_export-helper.c27b6911.js";import"./ComicCard.d63079f4.js";const P={class:"max-w-6xl mx-auto px-3 min-h-screen"},V={key:1,class:"text-2xl mt-8 font-bold text-gray-600 text-center"},p=30,O=w({__name:"lich-su",setup(E){const c=k(),o=l([]),g=l(!1),s=l(1),r=()=>{const n=window.db.transaction("history","readwrite").objectStore("history").index("reading_at").openCursor(null,"prevunique"),a=[];n.onsuccess=()=>{const t=n.result;t?(a.push(t.value),t.continue()):o.value=a}};return M(()=>{r(),s.value=Number(c.query.page)||1}),N(c,i=>{r(),s.value=Number(i.query.page)||1}),(i,f)=>{const _=y,n=C,a=x,t=b;return u(),d(H,null,[m(a,null,{default:h(()=>[m(_,null,{default:h(()=>[T(B(`Lịch sử - Trang ${e(c).query.page??1} | NComics`),1)]),_:1}),m(n,{name:"description",content:"Free comic and manga reader online"})]),_:1}),q("main",P,[e(o).length?(u(),v(t,{key:0,"is-fetching":e(g),comics:e(o).slice((e(s)-1)*p,e(s)*p),"total-pages":Math.ceil(e(o).length/p),title:"Lịch sử",icon:"mdi:clock-outline","is-history":!0,onDeleteComic:r},null,8,["is-fetching","comics","total-pages"])):(u(),d("h3",V," Không có lịch sử "))])],64)}}});export{O as default};
