import{H as F,T as P,M as S}from"./components.9bb7d1b5.js";import{_ as D}from"./nuxt-link.8cc68321.js";import M from"./Icon.d2eaa27f.js";import{k as R,a as g,Y as U,b as j,a3 as I,x as n,y as r,O as a,A as l,V as s,H as u,u as o,a4 as z,a5 as C,I as m,J as f,e as L,G as h,z as E}from"./swiper-vue.1fc45518.js";import{a as G,b as J}from"./entry.71724ffc.js";import{u as O}from"./useFetchData.e3cab5d1.js";import"./config.518ce47a.js";import"./_plugin-vue_export-helper.c27b6911.js";const Y={class:"max-w-6xl mx-auto min-h-screen py-6 px-3"},K={class:"flex items-center flex-wrap gap-1 text-gray-500 font-bold text-lg"},Q=s("span",null,"Search result",-1),W={class:"text-black"},X={class:"text-2xl text-center mt-8 font-bold text-gray-600"},Z={class:"grid grid-cols-1 md:grid-cols-2 gap-6 py-5"},ee=["src","alt"],te={class:"text-gray-500 font-bold w-full"},ae={class:"text-lg text-black leading-5"},se={class:"flex items-center gap-1 text-emerald-500"},oe={class:"text-sm line-clamp-2 font-semibold"},ne={class:"text-sm flex items-center flex-wrap gap-2 mt-1"},ge=R({__name:"tim-kiem",async setup(re){let b,k;const x=g([]),p=g(""),d=g(!0),w=g(1),i=g(1),_=G(),V=J(),v=async()=>{try{d.value=!0;const e=await O(`/tim-kiem?q=${p.value}&page=${i.value}`);x.value=e==null?void 0:e.comics,w.value=e==null?void 0:e.totalPages}catch(e){console.log(e)}finally{d.value=!1}};p.value=_.query.q,i.value=_.query.page?Number(_.query.page):1,[b,k]=U(()=>v()),await b,k();const $=e=>{i.value=e,V.replace({query:{..._.query,page:e}})};return j(_,async e=>{window.scrollTo({top:0,behavior:"smooth"}),p.value=e.query.q,i.value=e.query.page?Number(e.query.page):1,await v()}),(e,q)=>{const A=P,H=S,T=F,N=D,c=M,B=I("vue-awesome-paginate");return n(),r(m,null,[a(T,null,{default:l(()=>[a(A,null,{default:l(()=>[h(u(`${o(p)?`${o(p)} | NComics`:"NComics"}`),1)]),_:1}),a(H,{name:"description",content:"Free comic and manga reader online"})]),_:1}),s("main",Y,[s("div",K,[a(N,{to:"/"},{default:l(()=>[h("Home")]),_:1}),a(c,{name:"icon-park:right",size:"16"}),Q,a(c,{name:"icon-park:right",size:"16"}),s("span",W,u(o(p)),1)]),z(s("h4",X," No result ",512),[[C,!o(d)&&!o(x).length]]),s("ul",Z,[o(d)?(n(!0),r(m,{key:0},f(new Array(8),(t,y)=>(n(),r("li",{key:y,class:"bg-gray-200 animate-pulse rounded-lg w-full h-44"}))),128)):(n(!0),r(m,{key:1},f(o(x),t=>(n(),E(N,{to:`/truyen-tranh/${t.slug}`,key:t.slug,class:"flex flex-col sm:flex-row gap-4 rounded-lg border border-gray-100 bg-gray-50 p-4"},{default:l(()=>[s("img",{src:`https://img.otruyenapi.com/uploads/comics/${t.thumb_url}`,alt:t.name,class:"rounded aspect-[2/3] w-44 mx-auto sm:w-auto sm:h-36 border border-emerald-500 object-cover"},null,8,ee),s("div",te,[s("h3",ae,u(t.name)+" ",1),s("p",se,[Array.isArray(t.author)?(n(),r(m,{key:0},[h(u(t.author.join(" | ")),1)],64)):t.author==="Updating"?(n(),r(m,{key:1},[a(c,{name:"mdi:dots-circle",size:"16"}),h(" Updating ")],64)):(n(),r(m,{key:2},[h(u(t.author),1)],64))]),s("p",oe,u(t.short_description),1),s("ul",ne,[(n(!0),r(m,null,f(t.genres,y=>(n(),r("li",{key:y.id,class:"bg-cyan-100 text-cyan-800 text-xs px-2.5 py-0.5 rounded-full"},u(y.name),1))),128))])])]),_:2},1032,["to"]))),128))]),z(a(B,{"total-items":o(w),"items-per-page":1,"max-pages-shown":3,modelValue:o(i),"onUpdate:modelValue":q[0]||(q[0]=t=>L(i)?i.value=t:null),"show-ending-buttons":!0,"hide-prev-next-when-ends":!0,"disable-breakpoint-buttons":!0,"on-click":$},{"first-page-button":l(()=>[a(c,{name:"icon-park:go-start",size:"28"})]),"prev-button":l(()=>[a(c,{name:"icon-park:left",size:"28"})]),"next-button":l(()=>[a(c,{name:"icon-park:right",size:"28"})]),"last-page-button":l(()=>[a(c,{name:"icon-park:go-end",size:"28"})]),_:1},8,["total-items","modelValue"]),[[C,!o(d)&&o(x).length]])])],64)}}});export{ge as default};
