import{H as F,T,M}from"./components.9bb7d1b5.js";import{_ as P}from"./ComicsPagination.7b94b174.js";import{a as $,c as g}from"./entry.71724ffc.js";import{u as b}from"./useFetchData.e3cab5d1.js";import{d as v}from"./data.801821c8.js";import{k as H,a as f,Y as V,b as k,x as q,y as B,O as c,A as h,V as A,u as a,I as E,G as R,H as D}from"./swiper-vue.1fc45518.js";import"./Icon.d2eaa27f.js";import"./config.518ce47a.js";import"./_plugin-vue_export-helper.c27b6911.js";import"./ComicCard.d63079f4.js";const G={class:"max-w-6xl mx-auto px-3"},X=H({__name:"[slug]",async setup(I){let s,m;const n=$(),t=v.find(o=>o.path===n.path);if(!t)throw g({statusCode:404,statusMessage:"Page Not Found"});const i=f(),r=f(!1),l=async o=>{try{r.value=!0;const e=await b(`${t==null?void 0:t.apiPath}?page=${o}`);return i.value=e,e}catch(e){console.log(e)}finally{r.value=!1}},y=n.query.page||1;if(!([s,m]=V(()=>l(Number(y))),s=await s,m(),s))throw g({statusCode:404,statusMessage:"Page Not Found"});return k(n,async o=>{window.scrollTo({top:0,behavior:"smooth"});const e=o.query.page||1;await l(Number(e))}),(o,e)=>{var p,u,_,d;const w=T,x=M,C=F,N=P;return q(),B(E,null,[c(C,null,{default:h(()=>[c(w,null,{default:h(()=>[R(D(`${a(t)?`${a(t).title} - Trang ${a(n).query.page??1} | NComics`:"NComics"}`),1)]),_:1}),c(x,{name:"description",content:"Free comic and manga reader online"})]),_:1}),A("main",G,[c(N,{"is-fetching":a(r),comics:(p=a(i))==null?void 0:p.comics,"total-pages":(u=a(i))==null?void 0:u.totalPages,title:(_=a(t))==null?void 0:_.title,icon:(d=a(t))==null?void 0:d.icon},null,8,["is-fetching","comics","total-pages","title","icon"])])],64)}}});export{X as default};
